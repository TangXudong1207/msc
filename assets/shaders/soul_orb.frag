{
  "sksl": {
    "entrypoint": "soul_orb_fragment_main",
    "shader": "// This SkSL shader is autogenerated by spirv-cross.\n\nfloat4 flutter_FragCoord;\n\nuniform vec2 u_resolution;\nuniform float u_time;\nuniform float u_turbulence;\nuniform float u_spikes;\nuniform float u_inner_glow;\nuniform float u_hole_radius;\nuniform float u_color_shift_speed;\nuniform float u_saturation;\nuniform float u_aura_intensity;\nuniform float u_mouse_x;\nuniform float u_mouse_y;\nuniform float u_render_style;\n\nvec4 fragColor;\n\nvec2 FLT_flutter_local_FlutterFragCoord()\n{\n    return flutter_FragCoord.xy;\n}\n\nmat2 FLT_flutter_local_rot2D(float a)\n{\n    float s = sin(a);\n    float c = cos(a);\n    return mat2(vec2(c, -s), vec2(s, c));\n}\n\nvec3 FLT_flutter_local_hash33(inout vec3 p)\n{\n    p = fract(p * vec3(443.897003173828125, 441.423004150390625, 437.19500732421875));\n    p += vec3(dot(p, p.yxz + vec3(19.1900005340576171875)));\n    return fract((p.xxy + p.yxx) * p.zyx);\n}\n\nfloat FLT_flutter_local_noise(vec3 p)\n{\n    vec3 i = floor(p);\n    vec3 f = fract(p);\n    f = (f * f) * (vec3(3.0) - (f * 2.0));\n    vec3 param = i + vec3(0.0);\n    vec3 _141 = FLT_flutter_local_hash33(param);\n    vec3 param_1 = i + vec3(1.0, 0.0, 0.0);\n    vec3 _150 = FLT_flutter_local_hash33(param_1);\n    vec3 param_2 = i + vec3(0.0, 1.0, 0.0);\n    vec3 _163 = FLT_flutter_local_hash33(param_2);\n    vec3 param_3 = i + vec3(1.0, 1.0, 0.0);\n    vec3 _171 = FLT_flutter_local_hash33(param_3);\n    vec3 param_4 = i + vec3(0.0, 0.0, 1.0);\n    vec3 _186 = FLT_flutter_local_hash33(param_4);\n    vec3 param_5 = i + vec3(1.0, 0.0, 1.0);\n    vec3 _194 = FLT_flutter_local_hash33(param_5);\n    vec3 param_6 = i + vec3(0.0, 1.0, 1.0);\n    vec3 _205 = FLT_flutter_local_hash33(param_6);\n    vec3 param_7 = i + vec3(1.0);\n    vec3 _213 = FLT_flutter_local_hash33(param_7);\n    return mix(mix(mix(dot(_141, f - vec3(0.0)), dot(_150, f - vec3(1.0, 0.0, 0.0)), f.x), mix(dot(_163, f - vec3(0.0, 1.0, 0.0)), dot(_171, f - vec3(1.0, 1.0, 0.0)), f.x), f.y), mix(mix(dot(_186, f - vec3(0.0, 0.0, 1.0)), dot(_194, f - vec3(1.0, 0.0, 1.0)), f.x), mix(dot(_205, f - vec3(0.0, 1.0, 1.0)), dot(_213, f - vec3(1.0)), f.x), f.y), f.z);\n}\n\nfloat FLT_flutter_local_fbm(inout vec3 p)\n{\n    float v = 0.0;\n    float a = 0.5;\n    for (int i = 0; i < 3; i++)\n    {\n        vec3 param = p;\n        v += (a * FLT_flutter_local_noise(param));\n        p *= 2.0;\n        a *= 0.5;\n    }\n    return v;\n}\n\nfloat FLT_flutter_local_sdSphere(vec3 p, float s)\n{\n    return length(p) - s;\n}\n\nfloat FLT_flutter_local_sdOctahedron(inout vec3 p, float s)\n{\n    p = abs(p);\n    return (((p.x + p.y) + p.z) - s) * 0.57735025882720947265625;\n}\n\nfloat FLT_flutter_local_sdBox(vec3 p, vec3 b)\n{\n    vec3 q = abs(p) - b;\n    return length(max(q, vec3(0.0))) + min(max(q.x, max(q.y, q.z)), 0.0);\n}\n\nfloat FLT_flutter_local_smin(float a, float b, float k)\n{\n    float h = max(k - abs(a - b), 0.0) / k;\n    return min(a, b) - (((h * h) * k) * 0.25);\n}\n\nfloat FLT_flutter_local_map_solid(inout vec3 p)\n{\n    vec3 p_orig = p;\n    if (u_saturation > 0.100000001490116119384765625)\n    {\n        float twistAmount = u_saturation * 1.5;\n        float c = cos(twistAmount * p.y);\n        float s = sin(twistAmount * p.y);\n        mat2 m = mat2(vec2(c, -s), vec2(s, c));\n        p = vec3(m * p.xz, p.y).xzy;\n    }\n    float coreFlow = 0.0;\n    if (u_turbulence > 0.100000001490116119384765625)\n    {\n        vec3 param = (p * 3.0) + vec3(0.0, ((-u_time) * 2.0) * u_turbulence, 0.0);\n        float _383 = FLT_flutter_local_fbm(param);\n        coreFlow = (_383 * 0.100000001490116119384765625) * u_turbulence;\n    }\n    vec3 param_1 = p;\n    float param_2 = 0.89999997615814208984375;\n    float sphere = FLT_flutter_local_sdSphere(param_1, param_2);\n    float param_3 = u_time * 0.100000001490116119384765625;\n    mat2 rotArmor = FLT_flutter_local_rot2D(param_3);\n    vec3 p_armor = p;\n    vec3 _401 = p_armor;\n    vec2 _403 = _401.xz * rotArmor;\n    p_armor.x = _403.x;\n    p_armor.z = _403.y;\n    vec3 param_4 = p_armor;\n    float param_5 = 1.2000000476837158203125 + (u_spikes * 0.5);\n    float _417 = FLT_flutter_local_sdOctahedron(param_4, param_5);\n    float crystal = _417;\n    vec3 param_6 = p;\n    vec3 param_7 = vec3(0.800000011920928955078125);\n    float block = FLT_flutter_local_sdBox(param_6, param_7);\n    float baseShape;\n    if (u_spikes < 0.5)\n    {\n        float t = u_spikes * 2.0;\n        float param_8 = sphere;\n        float param_9 = crystal;\n        float param_10 = 0.5 - (t * 0.300000011920928955078125);\n        baseShape = FLT_flutter_local_smin(param_8, param_9, param_10);\n    }\n    else\n    {\n        float t_1 = (u_spikes - 0.5) * 2.0;\n        baseShape = mix(crystal, block, t_1);\n    }\n    baseShape -= coreFlow;\n    if (u_inner_glow > 0.100000001490116119384765625)\n    {\n        vec3 param_11 = p * 20.0;\n        float fuzz = (FLT_flutter_local_noise(param_11) * 0.0199999995529651641845703125) * u_inner_glow;\n        float inflation = u_inner_glow * 0.1500000059604644775390625;\n        baseShape -= (inflation + fuzz);\n    }\n    float d = baseShape;\n    if (u_aura_intensity > 0.0500000007450580596923828125)\n    {\n        vec3 param_12 = p * 3.0;\n        float _492 = FLT_flutter_local_fbm(param_12);\n        vec3 p_erode = p + vec3(_492 * 0.20000000298023223876953125);\n        float lift = u_time * 0.300000011920928955078125;\n        float voidWave = sin(((p_erode.y * 6.0) - (lift * 2.0)) + (p.x * 2.0));\n        float cutThreshold = 0.800000011920928955078125 - (u_aura_intensity * 1.5);\n        if (voidWave > cutThreshold)\n        {\n            float cutDist = (voidWave - cutThreshold) * 0.300000011920928955078125;\n            d = max(d, -cutDist);\n        }\n        vec3 q = p * 2.0;\n        q.y -= (u_time * 0.800000011920928955078125);\n        vec3 id = floor(q);\n        vec3 local = fract(q) - vec3(0.5);\n        vec3 param_13 = id * 13.5;\n        float r = FLT_flutter_local_noise(param_13);\n        if (r > (0.89999997615814208984375 - (u_aura_intensity * 0.60000002384185791015625)))\n        {\n            float debrisSize = (0.100000001490116119384765625 * u_aura_intensity) * r;\n            float debris = length(local) - debrisSize;\n            float param_14 = d;\n            float param_15 = debris;\n            float param_16 = 0.20000000298023223876953125;\n            d = FLT_flutter_local_smin(param_14, param_15, param_16);\n        }\n    }\n    if (u_hole_radius > 0.100000001490116119384765625)\n    {\n        vec3 param_17 = p;\n        float param_18 = u_hole_radius * 1.0;\n        float inner = FLT_flutter_local_sdSphere(param_17, param_18);\n        d = max(d, -inner);\n    }\n    d -= 0.0199999995529651641845703125;\n    return d;\n}\n\nvec3 FLT_flutter_local_palette(float t)\n{\n    vec3 a = vec3(0.5);\n    vec3 b = vec3(0.5);\n    vec3 c = vec3(1.0);\n    vec3 d = vec3(0.263000011444091796875, 0.41600000858306884765625, 0.556999981403350830078125);\n    return a + (b * cos(((c * t) + d) * 6.28318023681640625));\n}\n\nvec3 FLT_flutter_local_iridescence(float t)\n{\n    return vec3(0.5) + (cos(((vec3(1.0) * t) + vec3(0.0, 0.3300000131130218505859375, 0.670000016689300537109375)) * 6.28318023681640625) * 0.5);\n}\n\nvoid FLT_main()\n{\n    vec2 uv_norm = FLT_flutter_local_FlutterFragCoord() / u_resolution;\n    vec2 uv = (uv_norm * 2.0) - vec2(1.0);\n    if (u_resolution.x > u_resolution.y)\n    {\n        uv.x *= (u_resolution.x / u_resolution.y);\n    }\n    else\n    {\n        uv.y *= (u_resolution.y / u_resolution.x);\n    }\n    vec3 ro = vec3(0.0, 0.0, -3.2000000476837158203125);\n    vec3 rd = normalize(vec3(uv, 1.5));\n    ro.y += (sin((u_time * 0.5) + 4.0) * 0.0500000007450580596923828125);\n    float autoYaw = u_time * 0.1500000059604644775390625;\n    float autoPitch = sin(u_time * 0.100000001490116119384765625) * 0.0500000007450580596923828125;\n    float totalYaw = autoYaw + (u_mouse_x * 4.0);\n    float totalPitch = autoPitch + (u_mouse_y * 4.0);\n    float param = totalYaw;\n    mat2 rotY = FLT_flutter_local_rot2D(param);\n    vec3 _717 = ro;\n    vec2 _719 = _717.xz * rotY;\n    ro.x = _719.x;\n    ro.z = _719.y;\n    vec3 _725 = rd;\n    vec2 _727 = _725.xz * rotY;\n    rd.x = _727.x;\n    rd.z = _727.y;\n    float param_1 = totalPitch;\n    mat2 rotX = FLT_flutter_local_rot2D(param_1);\n    vec3 _737 = ro;\n    vec2 _739 = _737.yz * rotX;\n    ro.y = _739.x;\n    ro.z = _739.y;\n    vec3 _745 = rd;\n    vec2 _747 = _745.yz * rotX;\n    rd.y = _747.x;\n    rd.z = _747.y;\n    float t_1 = 0.0;\n    float d = 0.0;\n    bool hit = false;\n    vec3 p = vec3(0.0);\n    int steps_taken = 0;\n    for (int i = 0; i < 64; i++)\n    {\n        p = ro + (rd * t_1);\n        vec3 param_2 = p;\n        float _775 = FLT_flutter_local_map_solid(param_2);\n        d = _775;\n        t_1 += (d * 0.60000002384185791015625);\n        if (d < 0.00200000009499490261077880859375)\n        {\n            hit = true;\n            break;\n        }\n        if (t_1 > 10.0)\n        {\n            break;\n        }\n        steps_taken = i;\n    }\n    vec3 col = vec3(0.0);\n    vec3 bgCol = vec3(0.0199999995529651641845703125, 0.0199999995529651641845703125, 0.02999999932944774627685546875);\n    if (hit)\n    {\n        vec2 e = vec2(0.00200000009499490261077880859375, 0.0);\n        vec3 param_3 = p + e.xyy;\n        float _811 = FLT_flutter_local_map_solid(param_3);\n        vec3 param_4 = p - e.xyy;\n        float _817 = FLT_flutter_local_map_solid(param_4);\n        vec3 param_5 = p + e.yxy;\n        float _824 = FLT_flutter_local_map_solid(param_5);\n        vec3 param_6 = p - e.yxy;\n        float _830 = FLT_flutter_local_map_solid(param_6);\n        vec3 param_7 = p + e.yyx;\n        float _837 = FLT_flutter_local_map_solid(param_7);\n        vec3 param_8 = p - e.yyx;\n        float _843 = FLT_flutter_local_map_solid(param_8);\n        vec3 n = normalize(vec3(_811 - _817, _824 - _830, _837 - _843));\n        vec3 lightPos = vec3(2.0, 2.0, -3.0);\n        vec3 l = normalize(lightPos - p);\n        vec3 v = normalize(ro - p);\n        vec3 h = normalize(l + v);\n        vec3 ref = reflect(rd, n);\n        float colorT = (length(p) * 0.4000000059604644775390625) - ((u_time * 0.100000001490116119384765625) * u_color_shift_speed);\n        float param_9 = colorT;\n        vec3 baseColor = FLT_flutter_local_palette(param_9);\n        float ndotv = max(dot(n, v), 0.0);\n        float param_10 = (ndotv * 2.0) + (u_time * 0.100000001490116119384765625);\n        vec3 iridescent = FLT_flutter_local_iridescence(param_10);\n        baseColor = mix(baseColor, iridescent, vec3(0.5 * u_color_shift_speed));\n        vec3 skyCol = vec3(0.100000001490116119384765625, 0.300000011920928955078125, 0.60000002384185791015625);\n        vec3 groundCol = vec3(0.100000001490116119384765625);\n        vec3 envCol = mix(groundCol, skyCol, vec3(smoothstep(-0.20000000298023223876953125, 0.20000000298023223876953125, ref.y)));\n        float fresnel = pow(1.0 - ndotv, 3.0);\n        float specSharp = pow(max(dot(n, h), 0.0), 64.0);\n        vec3 emission = vec3(0.0);\n        if (u_turbulence > 0.00999999977648258209228515625)\n        {\n            vec3 param_11 = (p * 4.0) - vec3(0.0, u_time * 2.0, 0.0);\n            float _941 = FLT_flutter_local_fbm(param_11);\n            float magma = _941;\n            magma = smoothstep(0.4000000059604644775390625, 0.800000011920928955078125, magma);\n            emission = ((vec3(1.0, 0.300000011920928955078125, 0.100000001490116119384765625) * magma) * u_turbulence) * 2.5;\n        }\n        float reflectivity = u_spikes;\n        vec3 reflection = (envCol * reflectivity) * fresnel;\n        float sss = pow(max(0.0, dot(l, -rd)), 4.0) * u_inner_glow;\n        vec3 careGlow = (vec3(0.20000000298023223876953125, 0.800000011920928955078125, 0.60000002384185791015625) * sss) * 1.5;\n        float diff = max(dot(n, l), 0.0);\n        float amb = 0.100000001490116119384765625;\n        col = baseColor * (diff + amb);\n        col += reflection;\n        col += vec3(specSharp * reflectivity);\n        col += emission;\n        col += careGlow;\n        float ao = 1.0 - (float(steps_taken) / 64.0);\n        col *= ao;\n    }\n    else\n    {\n        col = bgCol;\n    }\n    if (u_aura_intensity > 0.100000001490116119384765625)\n    {\n        float dist = length(uv);\n        float glow = ((1.0 / (((dist * dist) * 4.0) + 0.100000001490116119384765625)) * u_aura_intensity) * 0.20000000298023223876953125;\n        col += (vec3(0.4000000059604644775390625, 0.100000001490116119384765625, 0.800000011920928955078125) * glow);\n        vec3 param_12 = vec3(uv * 5.0, u_time * 0.5);\n        float _1041 = FLT_flutter_local_fbm(param_12);\n        float partNoise = _1041;\n        if (partNoise > 0.60000002384185791015625)\n        {\n            float fade = smoothstep(0.60000002384185791015625, 1.0, partNoise);\n            col += (((vec3(0.800000011920928955078125, 0.800000011920928955078125, 1.0) * fade) * u_aura_intensity) * 0.300000011920928955078125);\n        }\n    }\n    if (u_inner_glow > 0.5)\n    {\n        float halo = exp((-length(uv)) * 2.0);\n        col += (((vec3(0.20000000298023223876953125, 0.60000002384185791015625, 0.4000000059604644775390625) * halo) * (u_inner_glow - 0.5)) * 0.20000000298023223876953125);\n    }\n    col = pow(col, vec3(0.4544999897480010986328125));\n    fragColor = vec4(col, 1.0);\n}\n\nhalf4 main(float2 iFragCoord)\n{\n      flutter_FragCoord = float4(iFragCoord, 0, 0);\n      FLT_main();\n      return fragColor;\n}\n",
    "stage": 1,
    "uniforms": [
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 0,
        "name": "u_resolution",
        "rows": 2,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 1,
        "name": "u_time",
        "rows": 1,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 2,
        "name": "u_turbulence",
        "rows": 1,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 3,
        "name": "u_spikes",
        "rows": 1,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 4,
        "name": "u_inner_glow",
        "rows": 1,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 5,
        "name": "u_hole_radius",
        "rows": 1,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 6,
        "name": "u_color_shift_speed",
        "rows": 1,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 7,
        "name": "u_saturation",
        "rows": 1,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 8,
        "name": "u_aura_intensity",
        "rows": 1,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 9,
        "name": "u_mouse_x",
        "rows": 1,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 10,
        "name": "u_mouse_y",
        "rows": 1,
        "type": 10
      },
      {
        "array_elements": 0,
        "bit_width": 32,
        "columns": 1,
        "location": 11,
        "name": "u_render_style",
        "rows": 1,
        "type": 10
      }
    ]
  }
}